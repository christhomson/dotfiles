ZSH=$HOME/dotfiles/zsh
export EDITOR=vim

export LOCATION="anywhere"

source $ZSH/antigen.zsh

antigen use oh-my-zsh

antigen bundle gitfast

if [ `uname`="Darwin" ]; then
  export OSX=1
  antigen bundle macos
  antigen bundle sublime
fi

antigen bundle zsh-users/zsh-autosuggestions
antigen bundle zsh-users/zsh-syntax-highlighting
antigen bundle woefe/git-prompt.zsh
antigen apply

# Don't annoy me as much as you'd like to.
export UPDATE_ZSH_DAYS=30
export DISABLE_UPDATE_PROMPT=true

export COMPLETION_WAITING_DOTS="true"

source $ZSH/aliases.zsh
source $ZSH/path.zsh
source $ZSH/functions.zsh

export KEYTIMEOUT=1

setopt HIST_IGNORE_SPACE
setopt HIST_IGNORE_DUPS

foreground-vi() {
  fg %vi
}

zle -N foreground-vi
bindkey '^Z' foreground-vi

zstyle ':completion:*:processes-names' command 'ps -e -o comm='

setopt nohistverify

export PRY=1

# export JAVA_HOME=`/usr/libexec/java_home -v 1.8`

export PATH="$HOME/.yarn/bin:$PATH"

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
[ -f /usr/share/doc/fzf/examples/completion.zsh ] && source /usr/share/doc/fzf/examples/completion.zsh

source ~/.antigen/bundles/woefe/git-prompt.zsh/examples/rprompt.zsh
export ZSH_THEME_GIT_PROMPT_BRANCH="%{$fg_no_bold[green]%}"

export PROMPT_COMMAND='echo -ne "\033]0;$PWD\007"'
export PATH="/usr/local/opt/mysql@5.7/bin:$PATH"
export PATH="/usr/local/opt/mysql-client/bin:$PATH"

export OBJC_DISABLE_INITIALIZE_FORK_SAFETY=YES
if [ -e /Users/chris/.nix-profile/etc/profile.d/nix.sh ]; then . /Users/chris/.nix-profile/etc/profile.d/nix.sh; fi # added by Nix installer

export FZF_DEFAULT_COMMAND='ag --hidden --ignore-dir .git --ignore-dir node_modules -g ""'
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
export FZF_ALT_C_COMMAND="$FZF_DEFAULT_COMMAND --type d"

_fzd_compgen_path() {
  ag --hidden --ignore-dir .git --ignore-dir node_modules -g ""
}

eval "$(direnv hook $SHELL)"

source ~/.aws_rc
export PATH="$HOME/.jenv/bin:$PATH"
eval "$(jenv init -)"

export PATH="/Users/cthomson/.local/bin:$PATH"

# export PATH="/usr/local/opt/imagemagick@6/bin:$PATH"
# export LDFLAGS=-L/usr/local/opt/imagemagick@6/lib
# export CPPFLAGS=-I/usr/local/opt/imagemagick@6/include
# export PKG_CONFIG_PATH=/usr/local/opt/imagemagick@6/lib/pkgconfig
